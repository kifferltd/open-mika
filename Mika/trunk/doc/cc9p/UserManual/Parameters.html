<title>/k/ Embedded Java Solutions - Mika v1.2 User Manual - Parameters and Properties</title>
<!-- Revision History                                                      -->
<!-- 20031015 First Draft              Chris Gray                          -->
<!-- 20031108 First Revision           Chris Gray                          -->
<!-- 20031218 Renamed to Mika          Chris Gray                          -->
<!-- 20040302 Updated for LxNETES 2.3  Chris Gray                          -->
<!-- 20040416 Updated for Mika 1.1     Chris Gray                          -->
<!-- 20051024 Preliminary version for Mika 1.2     Chris Gray              -->
<!-- 20051128 Added more mika properties Chris Gray                        -->

<body bgcolor=white>

<h2>Command-line Parameters and Properties</h2>

<h3>Command-line Parameters</h3>

<p><font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font>
accepts many command-line parameters familiar from desktop Java:
<table width="90%" align=center>
<tr><td valign=top><tt>-cp -classpath &lt;classpath&gt;</tt>
    <td valign=top><p>Set search path for classes and resources.<br>
       &lt;classpath&gt; is a colon-delimited list of paths.
<tr><td valign=top><tt>-jar &lt;file&gt;</tt>
    <td valign=top><p>Execute a JAR file.
<tr><td valign=top><tt>-D&lt;name&gt;=&lt;value&gt;</tt>
    <td valign=top><p>Set system property &lt;name&gt; to &lt;value&gt;.
<tr><td valign=top><tt>-version<tt>
    <td valign=top><p>Print version information.
<tr><td valign=top><tt>-? -help<tt>
    <td valign=top><p>Print help on standard options.
<tr><td valign=top><tt>-X<tt>
    <td valign=top><p>Print help on extended options.
<tr><td valign=top><tt>-Xmx&lt;size&gt;<tt>
    <td valign=top><p>Set maximum Java heap size.
       &lt;size&gt; is expressed in bytes, with an optional suffix K or M
       denoting kilobytes and megabytes respectively, e.g. &lt;size&gt;=4M
       limits the heap to 4 MB. The default heap size is 16 MB.
    <p><i>Note: for historical reasons <font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font>
    will also accept an '=' sign between '-Xmx' and &lt;size&gt;.
<tr><td valign=top><tt>-Xbootclasspath:&lt;classpath&gt;<tt>
    <td valign=top><p>Set the bootclasspath.
       &lt;bootclasspath&gt; is a colon-delimited list of paths.
</table>
<p><font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font>
also supports some special options:
<table width="90%" align=center>
<tr><td valign=top><tt>-W<tt>
    <td valign=top><p>Print help on
<font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font>-specific options.
<tr><td valign=top><tt>-Wfsroot:&lt;path&gt;<tt>
    <td valign=top><p>Set the virtual filesystem root.
</table>

<h3>System Properties</h3>

<p>System properties may be set either by modifying the file
<tt>/usr/lib/mika/system/system.properties</tt>, or on the command line.
Properties set on the command line override those in the <tt>system.properties</tt> file.

<p>The following system properties are set internally by <font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font>.
They may be overridden, but doing so is not recommended.

<table>
<tr><td><b>Property name</b><td><b>Default</b><td><b>Meaning</b>
<tr><td valign=top><tt>java.version</tt>
    <td valign=top><tt>1.3</tt>
    <td valign=top>Approximate indication of Java support level.
<tr><td valign=top><tt>java.vendor</tt>
    <td valign=top><tt>/k/ Embedded Java Solutions</tt>
<tr><td valign=top><tt>java.vendor.url</tt>
    <td valign=top><tt>http://www.acunia.com</tt>
<tr><td valign=top><tt>java.home</tt>
    <td valign=top><tt>{}/</tt>
<tr><td valign=top><tt>java.vm.version</tt>
    <td valign=top><font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font> version info.
<tr><td valign=top><tt>java.vm.vendor</tt>
    <td valign=top><tt>/k/ Embedded Java Solutions</tt>
<tr><td valign=top><tt>java.vm.name</tt>
    <td valign=top><tt>Mika</tt>
<tr><td valign=top><tt>java.class.version</tt>
    <td valign=top><tt>46.0</tt>
<tr><td valign=top><tt>user.dir</tt>
    <td valign=top>Dir from which <font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font> was launched.
<tr><td valign=top><tt>java.class.path</tt>
    <td valign=top>null
    <td valign=top>Classpath defaults to <tt>$CLASSPATH</tt> or <tt>{}/apps</tt>.
<tr><td valign=top><tt>java.installation.dir
    <td valign=top>Directory containing the <tt>mika</tt> executable.
<tr><td valign=top><tt>os.name</tt>
<tr><td valign=top><tt>java.ext.dirs
    <td valign=top><tt>"{}/system/ext/"</tt>
<tr><td valign=top><tt>os.name</tt>
    <td valign=top>Name of the underlying OS.
<tr><td valign=top><tt>os.arch</tt>
    <td valign=top>Name of the underlying architecture.
<tr><td valign=top><tt>os.version</tt>
    <td valign=top>Version information of the underlying OS.
<tr><td valign=top><tt>file.separator</tt>
    <td valign=top><tt>/</tt>
    <td valign=top>Used to separate the components (directories) of a path.
<tr><td valign=top><tt>file.encoding</tt>
    <td valign=top><tt>8859_1</tt>
    <td valign=top>Default encoding used when converting between byte-oriented files and Unicode.
<tr><td valign=top><tt>path.separator</tt>
    <td valign=top><tt>:</tt>
    <td valign=top>Used to separate paths in a list of paths.
<tr><td valign=top><tt>line.separator</tt>
    <td valign=top><tt>\n</tt>
<tr><td valign=top><tt>user.name",Etc.getUserName());
<tr><td valign=top><tt>user.home</tt>
    <td valign=top>Home directory of the user who launched <font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font>.
<tr><td valign=top><tt>user.dir</tt>
    <td valign=top>Current working directory at the time <font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font> was launched.
<tr><td valign=top><tt>user.language</tt>
    <td valign=top><tt>en</tt>

<tr><td>&nbsp;
<tr><td colspan=3><p>The following properties can be used to influence the behaviour of <font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font>.
<tr><td>&nbsp;

<tr><td><b>Property name</b><td><b>Default</b><td><b>Meaning</b>
<tr><td valign=top><tt>java.io.tmpdir</tt>
    <td valign=top><tt>/tmp</tt>
    <td valign=top>Directory in which temporary files will be created.
<tr><td valign=top><tt>impl.prefix</tt>
    <td valign=top><tt>Plain</tt>
    <td valign=top>Prefix to be added to a an IP transport name in order to derive the name of the implementation in <tt>java.net</tt>.
<tr><td valign=top><tt>java.protocol.handler.pkgs</tt>
    <td valign=top><tt>com.acunia.wonka.net</tt>
    <td valign=top>Prefix to be added to a protocol name in order to find the corresponding URL handler.
<tr><td valign=top><tt>java.library.path</tt>
    <td valign=top>null
    <td valign=top>Default path to be used when searching for native libraries. (If null then <tt>$LD_LIBRARY_PATH</tt> is used).
<tr><td valign=top><tt>user.language</tt>
    <td valign=top><tt>en</tt>
    <td valign=top>Used (together with <tt>user.country</tt>) to set the initial Locale.
<tr><td valign=top><tt>user.country</tt>
    <td valign=top>none
    <td valign=top>Used (together with <tt>user.language</tt>) to set the initial Locale.
<tr><td valign=top><tt>java.rmi.server.codebase</tt>
    <td valign=top>none
    <td valign=top>Default codebase for RMI class loading.
<tr><td valign=top><tt>com.acunia.default.Locale</tt>
    <td valign=top>empty
    <td valign=top>Default locale.
<tr><td valign=top><tt>user.timezone</tt>
    <td valign=top><tt>GMT</tt>
    <td valign=top>The timezone (three-letter form) to be used by default.
<tr><td>&nbsp;
<h3>Mika Properties</h3>
<tr><td>&nbsp;
<tr><td colspan=3><p>The file <tt>mika.properties</tt> contains some further 
properties which are peculiar to mika.
<tr><td>&nbsp;

<tr><td><b>Property name</b><td><b>Default</b><td><b>Meaning</b>
    <td valign=top>true
    <td valign=top>If this property is "true", the System.out PrintStream will 
    be set to "autoflush", i.e. the output buffer will be flushed whenever a 
    byte array is written, one of the println() methods is invoked, or a 
    newline character or byte is written.
<tr><td valign=top><tt>mika.err.autoflush</tt>
    <td valign=top>true
    <td valign=top>If this property is "true", the System.err PrintStream will 
    be set to "autoflush".
<tr><td valign=top><tt>mika.verbose</tt>
<tr><td valign=top><tt>mika.default.commandline</tt>
    <td valign=top>null
    <td valign=top>If <font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font>
    is launched with no command-line parameters, this property is used to
    supply a "default" command line.
<tr><td valign=top><tt>mika.verbose</tt>
    <td valign=top>null
    <td valign=top>Colon-separated list of topics about which
    <font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font> should report to
    <tt>stderr</tt> when running. Currently recognised topics are
    <tt>startup:shutdown:threads:gc:loading:sockets:traffic:stack:throw</tt>.
    <dl>
    <dt>startup
    <dd>Analysis of command line, loading of resources, launching of <tt>main()</tt>.
    <dt>shutdown
    <dd>Shutdown hooks, etc..
    <dt>threads
    <dd>Starting and stopping of Java threads.
    <dt>gc
    <dd>Actions of the Garbage Collector and Finalizer.
    <dt>loading
    <dd>Loading of classes.
    <dt>sockets
    <dd>Opening and closing of network sockets.
    <dt>traffic
    <dd>Network socket traffic.
    <dt>stack
    <dd>Java stack usage.
    <dt>throw
    <dd>Exceptions and errors thrown.
    </dl>
</table>

<h3>Mika Timezones</h3>

<p>This file is used to define the timezones which will be recognised by
<font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font>.
It has the following format:
<ul>
<li>Lines beginning with '#' are treated as comments, and are silently ignored.
<li>All other lines must contain an '=' sign. The characters to the left of
this sign will be treated as the ID of the timezone, and the characters to
the left constitute its definition.
<li>If the definition begins with a character other than '+', '-', or a digit,
it must be identical to the left-hand side of a previous non-comment line.
The new ID is then defined as an alias for the old.
<li>Otherwise, the definition must consist of a valid integer or floating-point
number, optionally followed by eight further numbers enclosed in parentheses,
followed by a ninth after the closing parenthesis.
The first number indicates the basic offset from UCT, with positive values
indicating oriental offsets (e.g. Europe) and negative offsets occidental
offsets (e.g. Americas). The remaining nine, if present, indicate a daylight
saving scheme as follows:
<br/>
<tt>(startMonth, startDay, startDayOfWeek, startTime, endMonth, endDayOfWeek,
endDay, endTime) savings</tt>
<br/>
These are passed through to the SimpleTimeZone constructor with signature
(int, String, int, int, int, int, int, int, int, inti, int) after making
the following conversions:
<ul>
<li>startMonth/endMonth: add 1 so that 1 indicates January and 12 December
<li>startDayOfWeek/endDayOfWeek: 1 represents Monday, 7 is Sunday
<li>startTime/endTime/savings: floating-point hours instead of seconds.
</ul>
</ul>
<p>Badly-formatted lines will be ignored, and an error message will be printed.

<p>The information contained in the supplied <tt>mika.timezones</tt> is
believed to be correct, but you are advised to check the data for the
timezones of interest to you. If your markets are outside Europe/US/Japan,
you may have to add some timezones.

<h3>Mika Hosts</h3>

<p>The <tt>mika.hosts</tt> file can be used to add static hostname translations,
 analogously to the <tt>/etc/hosts</tt> file of Unix. Standard properties file 
syntax is used, with the hostname as the property name and the dotted-notation 
IP address as the property value, e.g. <tt>'testserver=192.168.42.1'</tt>. Currently 
this file is restricted to IPv4 addresses, and there is no way to specify
multiple IP addresses corresponding to a single hostname nor a default
domain name to be appended to hostnames which do not contain a '.' (in
fact no attempt is made to parse the hostname).

<h3>Environment Variables</h3>

<p>The following environment variables are taken into account during startup
of <font color="#cc0000"><b>Mi</b>|<b>k</b>|<b>a</b></font>.
They may all be overridden by means of a command-line parameter or
system property.

<dl>
<dt><tt>CLASSPATH</tt>
<dd>Set the default classpath.
<dt><tt>MIKA_CLASSPATH</tt>
<dd>Set the default application classpath. Takes priority over <tt>CLASSPATH</tt>.
<dt><tt>MIKA_FSROOT</tt>
<dd>Sets the virtual filesystem root.
</dl>

<pp>The environment variables <tt>USER, HOME, PWD</tt> are used to set the
system properties <tt>user.name</tt>, <tt>user.home</tt>, <tt>user.dir</tt>
respectively.

<p align=center><small>[
<a href="index.html">Index</a>
] - [
Previous : <a href="Debug.html">Debugging Java Code on the CC9P</a>
] - [
Next : <a href="Support.html">Bug Reporting and Support</a>
]</small></p>

